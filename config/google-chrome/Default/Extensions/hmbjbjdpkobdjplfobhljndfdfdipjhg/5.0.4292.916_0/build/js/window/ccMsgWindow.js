"use strict";var g;function execute(){var e=commonWin.getQueryString("content");g={mw:mainAppHtmlWindow,meeting:mainAppHtmlWindow.inmeeting,ccObj:mainAppHtmlWindow.inmeeting.ccObj,time:1e4},renderMsg(e),bindHoverEvent()}function bindClickEvent(){$("#cc_list_icon").off("click").on("click",function(){"c"===(g.ccObj.ccMsgStatus="c"===g.ccObj.ccMsgStatus?"e":"c")?collapseWin():expandWin(),showCCMsgWin()})}function bindHoverEvent(){$(".cc-msg-list").hover(function(){$("#cc_list_icon").removeClass("visibility-hidden"),bindClickEvent()},function(){$("#cc_list_icon").addClass("visibility-hidden").off("click")})}function showCCMsgWin(e){var n=e||getLastMsg();"e"===g.ccObj.ccMsgStatus?showExpandCCMsg():showCollapseCCMsg(n)}function scrollToBottom(){$(".cc-list-inner").scrollTop(500)}function getLastMsg(){var e=g.ccObj.ccMsg;return e.length?e[e.length-1]:""}function showExpandCCMsg(){var i,e=g.ccObj.ccMsg;$("#cc_typer_temp").siblings().remove(),expandWin(),$(".cc-msg-list").removeClass("cc-list-collapse").addClass("cc-list-expand").find(".img-sprite").removeClass("cc-i-expand").addClass("cc-i-collapse"),$("#cc_list_icon").attr({title:"Hide history"}),i=$("<div>"),$.each(e,function(e,n){$("#cc_typer_temp").clone().removeAttr("id").text(n).removeClass("hideMe").appendTo(i)}),$(".cc-list-inner").append(i.html()),scrollToBottom(),clearTimeout(g.time)}function showCollapseCCMsg(e){$(".cc-msg-list").removeClass("cc-list-expand").addClass("cc-list-collapse").find(".img-sprite").removeClass("cc-i-collapse").addClass("cc-i-expand"),$("#cc_list_icon").attr({title:"Show history"}),$("#cc_typer_temp").siblings().remove(),$("#cc_typer_temp").clone().removeAttr("id").text(e).removeClass("hideMe").addClass("cc-list-text").appendTo(".cc-list-inner"),collapseWin(),deferToClose()}function deferToClose(){clearTimeout(g.time),g.time=util.deferTodo(function(){window.close()},1e4)}function getCCMsgExpandWinPos(){return{left:Math.round((screen.availWidth-200)/2-150),top:Math.round(screen.availHeight-100-350)}}function getCCMsgWinPos(){return{left:Math.round((screen.availWidth-200)/2),top:Math.round(screen.availHeight-75-85)}}function expandWin(){var e=getCCMsgExpandWinPos(),n=mainAppHtmlWindow.winMgr.getWinByWinId("ccMsgWin");n.outerBounds.setSize(500,350),n.outerBounds.setPosition(e.left,e.top)}function collapseWin(){var e=getCCMsgWinPos(),n=mainAppHtmlWindow.winMgr.getWinByWinId("ccMsgWin");n.outerBounds.setSize(200,60),n.outerBounds.setPosition(e.left,e.top)}function showTurnOnMsg(){var e=mainAppHtmlWindow.winMgr.getWinByWinId("ccMsgWin");showCCMsgWin("Closed caption is turned on."),e.outerBounds.setSize(240,60),$(".cc-list-inner").one("click",function(){showCCMsgWin()})}function renderMsg(e){3e4<(new Date).getTime()-g.ccObj.lastRecevMsgTime?showTurnOnMsg():showCCMsgWin(e)}