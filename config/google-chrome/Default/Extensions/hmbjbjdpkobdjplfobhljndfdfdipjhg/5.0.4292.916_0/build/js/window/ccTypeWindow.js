"use strict";var g;function execute(){g={meeting:mainAppHtmlWindow.inmeeting,mystatus:mainAppHtmlWindow.myStatusObject,ccstatus:mainAppHtmlWindow.CCStatusObject},bindTyperWinEvt(),bindInputCheckEvt(),enterEvt(".cc-typer-textarea",handleEnterEvt),loadMsg(),scrollToBottom(),g.meeting.enableCCBtnStyle()}function closeWin(){g.meeting.disableCCBtnStyle(),window.close()}function scrollToBottom(){$(".cc-typer-list").scrollTop(460)}function bindTyperWinEvt(){$(".window-close").click(function(){closeWin()}),escEvt(".cc-typer-win",function(){closeWin()})}function bindInputCheckEvt(e){var c=e||180;$("textarea").keydown(function(e){var t=e.key,n=$(this).val().length;if(c<n&&"Delete"!==t&&"Backspace"!==t)return!1}).focus()}function handleEnterEvt(){var e=$.trim($(".cc-typer-textarea").val());e&&($(".cc-typer-textarea").val(""),g.meeting.sendClosedCaption(e))}function loadMsg(){g.meeting.ccObj.ccMsg;var e=hasSendCC();insertAllContents(),e&&$(".cc-typer-title").removeClass("forceHide")}function insertAllContents(){var e=g.meeting.ccObj.ccMsg,c=$("<div>");e.length&&($.each(e,function(e,t){var n=getCloneCCEL(t);c.append(n)}),$(".cc-typer-list").append(c.html()))}function getCloneCCEL(e){return $("#cc_typer_temp").clone().removeAttr("id").removeClass("forceHide").text(e)}function insertContent(e){var t=getCloneCCEL(e);$(".cc-typer-list").append(t),scrollToBottom()}function hasSendCC(){var e=g.meeting.ccObj.CCSenderIds,t=g.mystatus.id;return-1!==$.inArray(t,e)}function saveSenderId(){var e=g.meeting.ccObj.CCSenderIds,t=hasSendCC(),n=g.mystatus.id;t||e.push(n)}function showNotificationTips(){g.meeting.ccObj.CCSenderIds;var e=hasSendCC();$(".cc-typer-title").removeClass("forceHide"),e||($(".cc-typer-notify").removeClass("forceHide").text("Closed Caption is being broadcasted to all participants."),util.deferTodo(function(){$(".cc-typer-notify").addClass("forceHide")}))}function showUnableTypeCCUI(){$(".cc-typer-notify").addClass("cc-typer-yellow ").text("The host has selected another participant to type.").removeClass("cc-typer-green forceHide"),$(".cc-typer-input").remove()}function showCCInTypeWin(e){insertContent(e),showNotificationTips(),saveSenderId()}