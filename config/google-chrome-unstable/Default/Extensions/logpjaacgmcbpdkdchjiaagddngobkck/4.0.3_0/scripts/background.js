!function(e){var t={};function r(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(n,s,function(t){return e[t]}.bind(null,s));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=5)}([function(e,t,r){(function(r){var n,s,a;s=[e],void 0===(a="function"==typeof(n=function(e){"use strict";if(void 0===window.browser||Object.getPrototypeOf(window.browser)!==Object.prototype||Object.getPrototypeOf(r)!==Object.prototype){const t="The message port closed before a response was received.",r="Returning a Promise is the preferred way to send a reply from an onMessage/onMessageExternal listener, as the sendResponse will be removed from the specs (See https://developer.mozilla.org/docs/Mozilla/Add-ons/WebExtensions/API/runtime/onMessage)",n=()=>{const e={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getBrowserInfo:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(0===Object.keys(e).length)throw new Error("api-metadata.json has not been included in browser-polyfill");class n extends WeakMap{constructor(e,t){super(t),this.createItem=e}get(e){return this.has(e)||this.set(e,this.createItem(e)),super.get(e)}}const s=(e,t)=>(...r)=>{chrome.runtime.lastError?e.reject(chrome.runtime.lastError):t.singleCallbackArg||r.length<=1?e.resolve(r[0]):e.resolve(r)},a=e=>1==e?"argument":"arguments",o=(e,t,r)=>new Proxy(t,{apply:(t,n,s)=>r.call(n,e,...s)});let i=Function.call.bind(Object.prototype.hasOwnProperty);const l=(e,t={},r={})=>{let n=Object.create(null),c={has:(t,r)=>r in e||r in n,get(c,g,m){if(g in n)return n[g];if(!(g in e))return;let u=e[g];if("function"==typeof u)if("function"==typeof t[g])u=o(e,e[g],t[g]);else if(i(r,g)){let t=((e,t)=>function(r,...n){if(n.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${a(t.minArgs)} for ${e}(), got ${n.length}`);if(n.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${a(t.maxArgs)} for ${e}(), got ${n.length}`);return new Promise((a,o)=>{if(t.fallbackToNoCallback)try{r[e](...n,s({resolve:a,reject:o},t))}catch(s){console.warn(e+" API method doesn't seem to support the callback parameter, falling back to call it without a callback: ",s),r[e](...n),t.fallbackToNoCallback=!1,t.noCallback=!0,a()}else t.noCallback?(r[e](...n),a()):r[e](...n,s({resolve:a,reject:o},t))})})(g,r[g]);u=o(e,e[g],t)}else u=u.bind(e);else{if("object"!=typeof u||null===u||!i(t,g)&&!i(r,g))return Object.defineProperty(n,g,{configurable:!0,enumerable:!0,get:()=>e[g],set(t){e[g]=t}}),u;u=l(u,t[g],r[g])}return n[g]=u,u},set:(t,r,s,a)=>(r in n?n[r]=s:e[r]=s,!0),defineProperty:(e,t,r)=>Reflect.defineProperty(n,t,r),deleteProperty:(e,t)=>Reflect.deleteProperty(n,t)},g=Object.create(e);return new Proxy(g,c)},c=e=>({addListener(t,r,...n){t.addListener(e.get(r),...n)},hasListener:(t,r)=>t.hasListener(e.get(r)),removeListener(t,r){t.removeListener(e.get(r))}});let g=!1;const m=new n(e=>"function"!=typeof e?e:function(t,n,s){let a,o,i=!1,l=new Promise(e=>{a=function(t){g||(console.warn(r,(new Error).stack),g=!0),i=!0,e(t)}});try{o=e(t,n,a)}catch(e){o=Promise.reject(e)}const c=!0!==o&&(m=o)&&"object"==typeof m&&"function"==typeof m.then;var m;if(!0!==o&&!c&&!i)return!1;const u=e=>{e.then(e=>{s(e)},e=>{let t;t=e&&(e instanceof Error||"string"==typeof e.message)?e.message:"An unexpected error occurred",s({__mozWebExtensionPolyfillReject__:!0,message:t})}).catch(e=>{console.error("Failed to send onMessage rejected reply",e)})};return u(c?o:l),!0}),u=({reject:e,resolve:r},n)=>{chrome.runtime.lastError?chrome.runtime.lastError.message===t?r():e(chrome.runtime.lastError):n&&n.__mozWebExtensionPolyfillReject__?e(new Error(n.message)):r(n)},d=(e,t,r,...n)=>{if(n.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${a(t.minArgs)} for ${e}(), got ${n.length}`);if(n.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${a(t.maxArgs)} for ${e}(), got ${n.length}`);return new Promise((e,t)=>{const s=u.bind(null,{resolve:e,reject:t});n.push(s),r.sendMessage(...n)})},A={runtime:{onMessage:c(m),onMessageExternal:c(m),sendMessage:d.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:d.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},f={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return e.privacy={network:{networkPredictionEnabled:f,webRTCIPHandlingPolicy:f},services:{passwordSavingEnabled:f},websites:{hyperlinkAuditingEnabled:f,referrersEnabled:f}},l(chrome,A,e)};e.exports=n()}else e.exports=r})?n.apply(t,s):n)||(e.exports=a)}).call(this,r(0))},function(e,t,r){"use strict";(function(e){function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,s=!1,a=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){s=!0,a=e}finally{try{n||null==i.return||i.return()}finally{if(s)throw a}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}async function s(t,r,n,s=0){return new Promise((a,o)=>{try{e.debugger.sendCommand({tabId:t},r,n,e=>setTimeout(()=>a(e),s))}catch(e){o(e)}})}t.a=async function({fullsize:t=!1,force:n=!1}={}){const a=r(await e.tabs.query({currentWindow:!0,active:!0}),1)[0],o=a.id,i=a.url,l=a.height,c=a.width;e.debugger.attach({tabId:o},"1.3",async()=>{try{let r=l;t&&(r=n?16348:await async function(){return(await e.tabs.executeScript({code:"document.body.scrollHeight"}))[0]}()),await s(o,"Emulation.setDeviceMetricsOverride",{height:r,width:c,mobile:!1,deviceScaleFactor:0},200);const a=(await s(o,"Page.captureScreenshot")).data,g=new URL(i).hostname+".png";!async function(e,t){const r=await fetch(t),n=await r.blob(),s=document.createElement("a");s.href=URL.createObjectURL(n),s.download=e,s.click()}(g,"data:image/png;base64,"+a)}finally{e.debugger.detach({tabId:o})}})}}).call(this,r(0))},,,function(e,t,r){"use strict";(function(e){function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,s=!1,a=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){s=!0,a=e}finally{try{n||null==i.return||i.return()}finally{if(s)throw a}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}let s=[void 0,void 0];e.tabs.onActivated.addListener((function(e){s=[s[1],e]})),e.windows.onFocusChanged.addListener((async function(t){if(-1===t)return;const n=r(await e.tabs.query({windowId:t,active:!0}),1)[0].id;s=[s[1],{windowId:t,tabId:n}]})),e.tabs.onRemoved.addListener((function(e){s=s.map((function(t){if(!t||t.tabId!==e)return t}))})),t.a=async function(){const t=r(s,2),n=t[0],a=t[1];n&&(n.windowId!==a.windowId?await e.windows.update(n.windowId,{focused:!0}):await e.tabs.update(n.tabId,{active:!0}))}}).call(this,r(0))},function(e,t,r){"use strict";r.r(t),function(e){var t=r(1),n=r(4);let s=t=>{e.tabs.query({currentWindow:!0}).then((function(r){r.length<=1||e.tabs.query({currentWindow:!0,active:!0}).then((function(n){let s,a=n[0],o=r.findIndex(e=>e.id===a.id);switch(t){case"next":s=r[(o+1+r.length)%r.length];break;case"previous":s=r[(o-1+r.length)%r.length];break;case"first":s=r[0];break;case"last":s=r[r.length-1];break;default:let e=parseInt(t)||0;if(!(e>=1&&e<=r.length))return;s=r[e-1]}e.tabs.update(s.id,{active:!0})}))}))},a=function(e,t){if(!e.blacklist||"false"===e.blacklist)return!0;let r=!0===e.blacklist||"true"===e.blacklist;return e.sitesArray.forEach(e=>{t.match(function(e){if(/^\/.*\/$/.test(e))return new RegExp(e.replace(/^\/(.*)\/$/,"$1"));let t=["^"];for(let r=0;r<e.length;++r){let n=e.charAt(r);"*"===n?t.push(".*"):("\\^$*+?.()|{}[]".indexOf(n)>=0&&t.push("\\"),t.push(n))}return t.push("$"),new RegExp(t.join(""))}(e))&&(r=!r)}),r},o=(r,a={})=>{var o=a.smoothScrolling?"smooth":"auto";if("cleardownloads"===r)e.browsingData.remove({since:0},{downloads:!0});else if("viewsource"===r)e.tabs.query({currentWindow:!0,active:!0}).then((function(t){e.tabs.create({url:"view-source:"+t[0].url})}));else if("print"===r)e.tabs.executeScript(null,{code:"window.print()"});else if("opensettings"===r)e.tabs.create({url:"chrome://settings",active:!0});else if("openextensions"===r)e.tabs.create({url:"chrome://extensions",active:!0});else if("openshortcuts"===r)e.tabs.create({url:"chrome://extensions/shortcuts",active:!0});else if("nexttab"===r)s("next");else if("prevtab"===r)s("previous");else if("firsttab"===r)s("first");else if("lasttab"===r)s("last");else if("lastusedtab"===r)Object(n.a)();else if("newtab"===r)e.tabs.create({});else if("reopentab"===r)e.sessions.getRecentlyClosed({maxResults:1}).then((function(t){let r=t[0];e.sessions.restore(r.sessionId)}));else if("closetab"===r)e.tabs.query({currentWindow:!0,active:!0}).then((function(t){e.tabs.remove(t[0].id)}));else if("clonetab"===r)e.tabs.query({currentWindow:!0,active:!0}).then((function(t){e.tabs.duplicate(t[0].id)}));else if("movetabtonewwindow"===r)e.tabs.query({currentWindow:!0,active:!0}).then((function(t){e.windows.create({url:t[0].url}),e.tabs.remove(t[0].id)}));else if("onlytab"===r)e.tabs.query({currentWindow:!0,pinned:!1,active:!1}).then((function(t){let r=[];t.forEach((function(e){r.push(e.id)})),e.tabs.remove(r)}));else if("closelefttabs"===r||"closerighttabs"===r)e.tabs.query({currentWindow:!0,active:!0}).then((function(t){let n=t[0].index;e.tabs.query({currentWindow:!0,pinned:!1,active:!1}).then((function(t){let s=[];t.forEach((function(e){("closelefttabs"===r&&e.index<n||"closerighttabs"===r&&e.index>n)&&s.push(e.id)})),e.tabs.remove(s)}))}));else if("togglepin"===r)e.tabs.query({active:!0,currentWindow:!0}).then((function(t){let r=!t[0].pinned;e.tabs.update(t[0].id,{pinned:r})}));else if("togglemute"===r)e.tabs.query({active:!0,currentWindow:!0}).then((function(t){let r=!t[0].mutedInfo.muted;e.tabs.update(t[0].id,{muted:r})}));else if("copyurl"===r)e.tabs.query({currentWindow:!0,active:!0}).then((function(e){(e=>{let t=document.createElement("div");t.contentEditable=!0,document.body.appendChild(t),t.innerHTML=e,t.unselectable="off",t.focus(),document.execCommand("SelectAll"),document.execCommand("Copy",!1,null),document.body.removeChild(t)})(e[0].url)}));else if("searchgoogle"===r)e.tabs.executeScript({code:"window.getSelection().toString();"}).then((function(t){if(t[0]){let r=encodeURIComponent(t[0]);e.tabs.query({currentWindow:!0,active:!0}).then((function(t){e.tabs.create({url:"https://www.google.com/search?q="+r,index:t[0].index+1})}))}}));else if("movetableft"===r)e.tabs.query({currentWindow:!0,active:!0}).then((function(t){t[0].index>0&&e.tabs.move(t[0].id,{index:t[0].index-1})}));else if("movetabright"===r)e.tabs.query({currentWindow:!0,active:!0}).then((function(t){e.tabs.move(t[0].id,{index:t[0].index+1})}));else if("movetabtofirst"===r)e.tabs.query({currentWindow:!0,active:!0}).then((function(e){e[0].index>0&&chrome.tabs.move(e[0].id,{index:0})}));else if("movetabtolast"===r)e.tabs.query({currentWindow:!0,active:!0}).then((function(t){e.tabs.move(t[0].id,{index:-1})}));else if("gototab"===r){let t=()=>{e.tabs.create({url:a.openurl})};if(a.matchurl){let r={url:a.matchurl};a.currentWindow&&(r.currentWindow=!0),e.tabs.query(r).then((function(r){r.length>0?(e.tabs.update(r[0].id,{active:!0}),e.windows.update(r[0].windowId,{focused:!0})):t()}))}else t()}else if("gototabbytitle"===r){if(a.matchtitle){let t={title:a.matchtitle};a.currentWindow&&(t.currentWindow=!0),e.tabs.query(t).then((function(t){t.length>0&&(e.tabs.update(t[0].id,{active:!0}),e.windows.update(t[0].windowId,{focused:!0}))}))}}else if("gototabbyindex"===r)a.matchindex&&s(a.matchindex);else if("newwindow"===r)e.windows.create();else if("newprivatewindow"===r)e.windows.create({incognito:!0});else if("closewindow"===r)e.tabs.query({currentWindow:!0,active:!0}).then((function(t){e.windows.remove(t[0].windowId)}));else if("fullscreen"===r)e.windows.getCurrent().then((function(t){var r="fullscreen"===t.state?"normal":"fullscreen";e.windows.update(t.id,{state:r})}));else if("zoomin"===r)e.tabs.query({currentWindow:!0,active:!0}).then((function(t){e.tabs.getZoom(t[0].id).then((function(r){e.tabs.setZoom(t[0].id,r+.1)}))}));else if("zoomout"===r)e.tabs.query({currentWindow:!0,active:!0}).then((function(t){e.tabs.getZoom(t[0].id).then((function(r){e.tabs.setZoom(t[0].id,r-.1)}))}));else if("zoomreset"===r)e.tabs.query({currentWindow:!0,active:!0}).then((function(t){e.tabs.setZoom(t[0].id,0)}));else if("showlatestdownload"===r)chrome.downloads.search({orderBy:["-startTime"],state:"complete"},e=>{e&&e.length>0&&chrome.downloads.show(e[0].id)});else if("back"===r)e.tabs.executeScript(null,{code:"window.history.back()"});else if("forward"===r)e.tabs.executeScript(null,{code:"window.history.forward()"});else if("reload"===r)e.tabs.executeScript(null,{code:"window.location.reload()"});else if("hardreload"===r)e.tabs.reload({bypassCache:!0});else if("top"===r)e.tabs.executeScript(null,{code:'window.scrollTo({left: 0, top: 0, behavior: "'+o+'"})'});else if("bottom"===r)e.tabs.executeScript(null,{code:'window.scrollTo({left: 0, top: document.body.scrollHeight, behavior: "'+o+'"})'});else if("scrollup"===r)e.tabs.executeScript(null,{code:'window.scrollBy({left: 0, top: -50, behavior: "'+o+'"})'});else if("scrollupmore"===r)e.tabs.executeScript(null,{code:'window.scrollBy({left: 0, top: -500, behavior: "'+o+'"})'});else if("pageup"===r)e.tabs.executeScript(null,{code:'window.scrollBy({left: 0, top: -window.innerHeight, behavior: "'+o+'"})'});else if("scrolldown"===r)e.tabs.executeScript(null,{code:'window.scrollBy({left: 0, top: 50, behavior: "'+o+'"})'});else if("scrolldownmore"===r)e.tabs.executeScript(null,{code:'window.scrollBy({left: 0, top: 500, behavior: "'+o+'"})'});else if("pagedown"===r)e.tabs.executeScript(null,{code:'window.scrollBy({left: 0, top: window.innerHeight, behavior: "'+o+'"})'});else if("scrollleft"===r)e.tabs.executeScript(null,{code:'window.scrollBy({left: -50, top: 0, behavior: "'+o+'"})'});else if("scrollleftmore"===r)e.tabs.executeScript(null,{code:'window.scrollBy({left: -500, top: 0, behavior: "'+o+'"})'});else if("scrollright"===r)e.tabs.executeScript(null,{code:'window.scrollBy({left: 50, top: 0, behavior: "'+o+'"})'});else if("scrollrightmore"===r)e.tabs.executeScript(null,{code:'window.scrollBy({left: 500, top: 0, behavior: "'+o+'"})'});else if("openbookmark"===r||"openbookmarknewtab"===r||"openbookmarkbackgroundtab"===r||"openbookmarkbackgroundtabandclose"===r)e.bookmarks.search({title:a.bookmark}).then((function(t){let n;for(let e=t.length;e-- >0;){let r=t[e];if(r.url&&r.title===a.bookmark){n=r;break}}"openbookmark"===r?0===n.url.indexOf("javascript:")?e.tabs.executeScript(null,{code:decodeURIComponent(n.url.replace("javascript:",""))}):e.tabs.update(null,{url:decodeURI(n.url)}):"openbookmarkbackgroundtab"===r?e.tabs.create({url:decodeURI(n.url),active:!1}):"openbookmarkbackgroundtabandclose"===r?e.tabs.create({url:decodeURI(n.url),active:!1}).then((function(t){var r=function(n,s,a){n===t.id&&"complete"===s.status&&(e.tabs.remove(t.id),e.tabs.onUpdated.removeListener(r))};e.tabs.onUpdated.addListener(r)})):e.tabs.create({url:decodeURI(n.url)})}));else if("openapp"===r)a.openappid&&e.management.launchApp(a.openappid);else if("capturescreenshot"===r)Object(t.a)();else if("capturefullsizescreenshot"===r)Object(t.a)({fullsize:!0});else{if("forcecapturefullsizescreenshot"!==r)return!1;Object(t.a)({fullsize:!0,force:!0})}return!0};e.commands.onCommand.addListener((function(e){e=e.split("-")[1],o(e)})),e.runtime.onMessage.addListener((function(e,t,r){const n=e.action;if("getKeys"===n){const t=e.url;let r=JSON.parse(localStorage.shortkeys),n=[];return r.keys.length>0&&r.keys.forEach(e=>{a(e,t)&&n.push(e)}),Promise.resolve(n)}o(n,e)}))}.call(this,r(0))}]);