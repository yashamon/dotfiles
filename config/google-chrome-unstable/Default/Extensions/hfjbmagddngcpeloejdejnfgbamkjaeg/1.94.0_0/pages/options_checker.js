"use strict";__filename="pages/options_checker.js",define(["require","exports","./async_bg","./options_base","./options_wnd"],function(n,t,r,e,s){var i;for(i of(Object.defineProperty(t,"__esModule",{value:true}),e.ns.Us.keyMappings._s={Wn:0,Vs:null,Qr:function(){function n(n,t,r){var e,s,i,u,o,c,a="";if(r.length>2&&":"===r[r.length-2]&&(a=r.slice(-2),r=r.slice(0,-2)),e=t.toLowerCase(),s=r.length>1,i=e.includes("s-"),u=r.toUpperCase(),!s){if(!e)return n;if(i&&e.length<3)return a?"<"+u+a+">":u}return o=r.toLowerCase(),e=e.includes("v-")?"v-":(c=e).length<4?c:c.slice(0,-1).split("-").sort().join("-")+"-",r!==o&&!i&&(e+="s-"),e||s||a?"<"+e+o+a+">":r}this.Vs=function(t){return t.replace(/<(?!<)((?:[ACMSVacmsv]-){0,4})(.[^>]*)>/g,n)},this.Qs=this.Qs.bind(this),this.Ws=this.Ws.bind(this),this.Xs=this.Xs.bind(this),this.Qr=null},Ys:function(n,t){return t?"\\u00"+t:"\\\\"},Xs:function(n,t,r,e){var s,i;r?t='"'+(r=r.replace(/\\(?:x([\da-z]{2})|\\)/gi,this.Ys))+'"':e||"\\\\"!==t||(t="\\"),s="",t.startsWith("{")&&(s=t=t.replace(/([{,] ?)(\w+):/g,'$1"$2":'));try{if("string"!=typeof(i=JSON.parse(t.includes("\\\r")?t.replace(/\\\r/g," "):t)))return true!==i?s?"="+s+e:n:"";t=i}catch(n){r&&(t=r)}return"="+(t=(t=t&&t.replace(/\\(\\|s)/g,function(n,t){return"s"===t?" ":n}))&&JSON.stringify(t).replace(/\s/g,this.Ko))+e},Ko:function(n){return"\\u"+(n.charCodeAt(0)+1048576).toString(16).slice(2)},Qs:function(n,t,r,e,s){var i,u,o,c,a,h=this.Vs(e);return h!==e&&(console.log("KeyMappings Checker:",e,"is corrected into",h),e=h),"mapkey"===r.toLowerCase()?(o=(u=(i=/^\S+/.exec(s.trimLeft()))&&i[0])&&this.Vs(u))!==u&&(console.log("KeyMappings Checker:",u,"is corrected into",o),s=s.replace(u,o)):r.startsWith("unmap")||(c=s.trimLeft().split(/\s/,1)[0])&&(a=s.indexOf(c)+c.length,e+=s.slice(0,a),s=s.slice(a)),this.Ws("",t,e,s)},zo:function(n,t,r){return t.replace("map","mapKey")+(3===r.length?r[1]:r)},Ws:function(n,t,r,e){return(e.includes("createTab")||e.includes("openUrl"))&&/^\s+(createTab|openUrl)\s/.test(e)&&!/\surls?=/i.test(e)&&(e=this.Co(e)),t+r+(e?e.replace(/=("(\S*(?:\s[^=]*)?)"|[\S\r]+)(\s|$)/g,this.Xs):"")},Co:function(n){var t,r=[];return(n=(n+" ").replace(/\s(\w+:[^=\s]+|[^\s=]+:\/\/\S+)(?=\s|$)/g,function(n,t){return r.push(t),""}).trimRight())+((t=r.length)>1?" urls=":t?" url=":"")+(t?JSON.stringify(t>1?r:r[0]):"")},xs:function(n){return n?(this.Qr&&this.Qr(),n=(n=(n=(n=(n=n.replace(/\\\\?\n/g,function(n){return 3===n.length?n:"\\\r"})).replace(/^([ \t]*(?:#\s?)?map\s+(?:<(?!<)(?:.-){0,4}.[\w:]*?>|\S)\s+)(<(?!<)(?:[ACMSVacmsv]-){0,4}.\w*?>)(?=\s|$)/gm,this.zo)).replace(/^([ \t]*(?:#\s?)?(map(?:[kK]ey)?|run|unmap!?)\s+)(\S+)([^\n]*)/gm,this.Qs)).replace(/^([ \t]*(?:#\s?)?(?:command|shortcut)\s+)(\S+)([^\n]*)/gm,this.Ws)).replace(/\\\r/g,"\\\n").trim()):n}},e.ns.Us.searchUrl._s={Wn:0,xs:function(n){var t,s,i,u=new r.Ns.Map,o=e.ns.Us.searchUrl;return r.Oo.Re("k:"+n,u),null==(t=u.get("k"))?o.ds():(s=r.Oo.Ee(t.Ae,null,-2),r.Oo._e()>2?(i=e.$i("nonPlainURL",[t.Ae]),console.log("searchUrl checker:",i),o.Uo(i),o.ds()):(s=s.replace(/\s+/g,"%20"),t.De&&"k"!==t.De&&(s+=" "+t.De),o.Uo(""),s))}},e.ns.Us.vimSync.Ss=function(){var n,t,r,s;if(!this.as&&true===this.bs()){for(r in t=0,n=e.ns.Us)n[r].as||++t;if(s=t>1,setTimeout(alert,100,e.$i(s?"changedBeforeSync":"warningForSync")),s)return false}return true},e.ns.Us.keyboard._s={Wn:0,xs:function(n){return null!=n&&2===n.length&&n[0]>0&&n[0]<4e3&&n[1]>0&&n[1]<1e3?[+n[0],n[1]]:r.cs.Ne.keyboard}},r.$$("[data-check]")))i.removeEventListener(i.dataset.check||"input",s.loadChecker)});