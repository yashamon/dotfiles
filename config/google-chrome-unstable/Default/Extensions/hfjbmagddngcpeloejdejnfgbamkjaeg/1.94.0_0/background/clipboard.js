"use strict";__filename="background/clipboard.js",define(["require","exports","./store","./utils","./settings","./exclusions"],function(e,n,r,u,t,o){var a,f,l,c,i,s,p,d,b,_;Object.defineProperty(n,"__esModule",{value:true}),n.doesNeedToSed=n.eu=void 0,u=__importStar(u),t=__importStar(t),o=__importStar(o),a={__proto__:null,atob:8,base64:8,base64decode:8,btoa:9,base64encode:9,decodeforcopy:1,decode:1,decodeuri:1,decodeurl:1,decodemaybeescaped:2,decodecomp:2,encode:10,encodecomp:11,encodeall:12,encodeallcomp:13,unescape:3,upper:4,lower:5,capitalize:16,capitalizeall:17,camel:14,camelcase:14,dash:15,dashed:15,hyphen:15,normalize:6,reverse:7,reversetext:7,break:99,stop:99,return:99},f=null,l=function(e,n){var r,t,o,f,l,i,p,d,b,_,x,m,g,v,y,h=[],z=new Map;for(r of e.split("\n"))if(r=r.trim(),(t=/^([\w\x80-\ufffd]{1,6})([^\x00- \w\\\x7f-\uffff])/.exec(r))&&((f=z.get(o=t[2]))||(l="\\u"+(o.charCodeAt(0)+65536).toString(16).slice(1),f=new RegExp("^((?:\\\\"+l+"|[^"+l+"])+)"+l+"(.*)"+l+"([a-z]{0,9})((?:,[A-Za-z-]+|,host=[\\w.*-]+)*)$"),z.set(o,f)),i=f.exec(r.slice(t[0].length)))){for(m of(p=t[1],d=i[3],b=[],_=null,x=0,i[4].split(",")))(g=m.toLowerCase()).startsWith("host=")?_=m.slice(5):g.startsWith("match")?x=1:(v=a[g.replace(/-/g,"")]||0)&&b.push(v);(y=u.m(i[1],x?d.replace("g",""):d))&&h.push({ru:n||s(p),tu:_,ou:y,au:x,fu:b,lu:c(i[2],1)})}return h},c=function(e,n){return e.replace(/\\(x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|[^])|\$0/g,function(e,r){return r?"x"===r[0]||"u"===r[0]?"$"===(r=String.fromCharCode(parseInt(r.slice(1),16)))?r+r:r:"t"===r?"\t":"r"===r?"\r":"n"===r?"\n":n?"0"===r?"$&":r>="1"&&r<="9"?"$"+r:r:r:n?"$&":e})},i=function(e,n){var u=14===n,t=15===n,o=16===n,a=17===n,f=r.Un<64||false?u||t?/(?:[-_\s\/+\u2010-\u2015]|(\d)|^)([a-z\u03b1-\u03c9]|[A-Z\u0391-\u03a9]+[a-z\u03b1-\u03c9]?)|[\t\r\n\/+]/g:o?/(\b|_)[a-z\u03b1-\u03c9]/:a?/(\b|_)[a-z\u03b1-\u03c9]/g:null:new RegExp(u||t?"(?:[-_\\t\\r\\n/+\\u2010-\\u2015\\p{Z}]|(\\p{N})|^)(\\p{Ll}|\\p{Lu}+\\p{Ll}?)|[\\t\\r\\n/+]":o||a?"(\\b|_)\\p{Ll}":"",o?"u":"ug"),l=0,c=0,i=function(e,n){return n?e.toLocaleLowerCase():e.toLocaleUpperCase()};return e=u||t?e.replace(f,function(n,r,u,o){var a="\t\r\n/+".includes(n[0]),f=a||!l++&&e.slice(c,o).toUpperCase()===e.slice(c,o).toLowerCase();return a&&(l=0,c=o+1),u=u?u.length>2&&u.slice(-1).toLowerCase()===u.slice(-1)&&!/^e?s\b/.test(e.substr(o+n.length-1,3))?t?i(u.slice(0,-2),true)+"-"+i(u.slice(-2),true):i(u[0],f)+i(u.slice(1,-2),true)+i(u.slice(-2,-1),false)+u.slice(-1):t?i(u,true):i(u[0],f)+i(u.slice(1),true):"",(a?n[0]:(r||"")+(r||t&&!f?"-":""))+u}):o||a?e.replace(f,function(e){return i(e,false)}):e,t&&(e=e.replace(r.Un<64||false?/[a-z\u03b1-\u03c9]([A-Z\u0391-\u03a9]+[a-z\u03b1-\u03c9]?)/g:new RegExp("\\p{Ll}(\\p{Lu}+\\p{Ll})","ug"),function(n,r,u){return r=r.length>2&&r.slice(-1).toLowerCase()===r.slice(-1)&&!/^e?s\b/.test(e.substr(u+n.length-1,3))?i(r.slice(0,-2),true)+"-"+i(r.slice(-2),true):i(r,true),n[0]+"-"+r})),e},n.eu=function(e){if(null!=e.$sed)return e.$sed;var n=e.sed,r=e.sedKeys||e.sedKey;return null!=n||r?n&&"object"==typeof n?null!=n.r||n.k?n:null:e.$sed={r:n,k:r}:null},s=function(e,n){var r,u,t,o,a,f;if("object"==typeof e)return e.cu||e.iu?e:n?n.k=null:null;for(r=null,u=0,t=0;t<e.length;t++)a=-33&(o=e.charCodeAt(t)),o>64&&o<91?u|=83===a?32772:1<<a-65:(r||(r=[]),!n&&r.includes(o)||r.push(o));return f=u||r?{cu:u,iu:r}:null,n?n.k=f:f},p=function(e,n){var r,u;if(e.cu&n.cu)return true;if(r=n.iu,!e.iu||!r)return false;for(u of e.iu)if(r.includes(u))return true;return false},n.doesNeedToSed=function(e,n){var r,u;if(n&&(false===n.r||n.r&&true!==n.r))return false!==n.r;for(u of(r=n&&n.k&&s(n.k,n)||(e?{cu:e,iu:null}:null),f||r&&(f=l(t.Xe("clipSub"),null)),r?f:[]))if(p(u.ru,r))return true;return false},r.f(function(e,n,r){var a,d,b,_,x=r&&"object"==typeof r?r.r:r;if(false===x)return e;for(_ of(a=f||(f=l(t.Xe("clipSub"),null)),d=r&&"object"==typeof r&&r.k&&s(r.k,r)||(n?{cu:n,iu:null}:null),x&&true!==x&&(d||(a=[]),a=l((x+"").replace(/(?!\\) ([\w\x80-\ufffd]{1,6})(?![\x00- \w\\\x7f-\uffff])/g,"\n$1"),d||(d={cu:1073741824,iu:null})).concat(a)),b=function(n){var r,t,a,f,l,s;if(p(n.ru,d)&&(!n.tu||("string"==typeof n.tu&&(n.tu=o.Jt(n.tu)||-1),-1!==n.tu&&o.Gt(n.tu,e)))){if(r=-1,n.au?(t=0,e.replace(n.ou,function(e){var n=arguments;return r=(t=n[n.length-2])+e.length,a=n.length>3?n[1]:"",""}),r>=0&&(f=e.replace(n.ou,n.lu),e=f.slice(t,f.length-(e.length-r))||a||e.slice(t,r))):n.ou.test(e)&&(r=n.ou.lastIndex=0,e=e.replace(n.ou,n.lu)),r<0)return"continue";if(!e)return"break";for(s of(l=false,n.fu))e=1===s?u.yt(e):2===s?u.kt(e):3===s?c(e):4===s?e.toLocaleUpperCase():5===s?e.toLocaleLowerCase():10===s?u.vt(e):11===s?u.k(e):12===s?encodeURI(e):13===s?encodeURIComponent(e):8===s?u.jt(e,"atob"):9===s?btoa(e):(e=6!==s&&7!==s||false?e:e.normalize(),7===s?Array.from(e).reverse().join(""):14===s||15===s||16===s||17===s?i(e,s):e),l=99===s;if(l)return"break"}},d?a:[]))if("break"===b(_))break;return u.$t(),e}),d=function(){var e=document.createElement("textarea");return e.style.position="absolute",e.style.left="-99px",e.style.width="0",e},b=function(e,n,u){"string"!=typeof e&&(e="string"==typeof n&&n.startsWith("json")?JSON.stringify(e,null,n.slice(4)||2):e.join(n!==!!n&&n||"\n")+(e.length>1&&(!n||n===!!n)?"\n":""));var t=(e=e.replace(/\xa0/g," ").replace(/[ \t]+(\r\n?|\n)|\r\n?/g,"\n")).charCodeAt(e.length-1);return 32!==t&&9!==t||((t=e.lastIndexOf("\n")+1)?e=e.slice(0,t)+e.slice(t).trimRight():32!==(t=e.charCodeAt(0))&&9!==t&&(e=e.trimRight())),r.P(e,4,u)},_=function(e,n){return e&&(e=e.replace(/\xa0/g," "),e=r.P(e,32768,n)),e},r.h(function(e,n,r){if(e=b(e,n,r)){var u=document,t=d();t.value=e,u.body.appendChild(t),t.select(),u.execCommand("copy"),t.remove(),t.value=""}return e}),r.p(r.u.it?function(e,n){var t,o=d();return o.maxLength=n||102400,document.body.appendChild(o),o.focus(),document.execCommand("paste"),t=o.value.slice(0,n||102400),o.value="",o.remove(),o.removeAttribute("maxlength"),!n&&t.length>=81920&&("data:"===t.slice(0,5).toLowerCase()||u.Pt(t))?r.V(e,20971520):_(t,e)}:function(){return null}),t.Je.clipSub=function(){f=null}});